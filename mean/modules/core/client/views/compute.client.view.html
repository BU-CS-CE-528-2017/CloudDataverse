<section ng-controller="ComputeController as vm" class="jumbotron">
    <div style="margin-top: -3em;" class="container">
        <!--<h1 class="jumbotron-heading">OpenStack Instances</h1>
        <table style="margin-top: 1em;" class="table table-bordered">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Created</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="server in vm.ServerList">
                    <th scope="row">{{server.name}}</th>
                    <td>{{server.created | date: 'short' : 'EST'}}</td>
                    <td>{{server.status}}</td>
                </tr>
            </tbody>
        </table>
        <br />-->
        <form>
            <button ng-click="vm.ConfigMode = !vm.ConfigMode" type="button" class="btn btn-primary">
                <span ng-show="!vm.ConfigMode">Show Advanced Settings</span>
                <span ng-show="vm.ConfigMode">Show Basic Settings</span>
            </button>
            <div ng-show="!vm.ConfigMode" style="margin-top: 1em;" id="basic-mode">
                <h4 style="font-weight: 200; margin-top: 0em;">General Configuration</h4>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Select Plugin</label>
                            <select ng-init="vm.Cluster.Plugin = 'vanilla'" class="form-control" required ng-model="vm.Cluster.Plugin" ng-options="plugin.name as plugin.title for plugin in vm.Plugins"></select>
                            <small ng-if="vm.Cluster.Plugin == 'vanilla'">
                                Applications: namenode, yarn resourcemanager, oozie, hiveserver
                            </small>
                            <small ng-if="vm.Cluster.Plugin == 'spark'">
                                Applications: namenode, master                                
                            </small>
                            <small ng-if="vm.Cluster.Plugin == 'storm'">
                                Applications: zookeeper, nimbus, supervisor
                            </small>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Cluster Name</label>
                            <input class="form-control" required ng-model="vm.Cluster.Name" placeholder="My cluster" type="text" />
                        </div>
                    </div>
                </div>
                <br>
                <h4 style="font-weight: 200;">Hardware Configuration</h4>
                <div class="row">
                    <div class="col-sm-9">
                        <div class="form-group">
                            <label>Instance Type</label>
                            <select ng-init="vm.Cluster.Flavor = '5'" class="form-control" required ng-model="vm.Cluster.Flavor" ng-options="flavor.id as flavor.name for flavor in vm.Flavors"></select>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <label>Number of Instances</label>
                            <input ng-change="vm.VerifyClusterCount()" required ng-init="vm.Cluster.InstanceCount = 3" class="form-control" type="number" ng-model="vm.Cluster.InstanceCount" />
                            <small>(1 master and {{vm.Cluster.NodeCount}} nodes)</small>
                        </div>
                    </div>
                </div>
                <br />
                <h4 style="font-weight: 200;">Security and Access</h4>
                <div class="row">
                    <div class="col-sm-9">
                        <div class="form-group">
                            <label>Key Pair</label>
                            <select class="form-control" required ng-model="vm.Cluster.KeyPair" ng-options="kp.name as kp.name for kp in vm.KeyPairs"></select>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <a href="" ng-click="vm.LaunchCluster()" style="margin-top: 2em;" class="btn btn-primary btn-block">Launch Cluster</a>
                        </div>
                    </div>
                </div>
            </div>
            <div ng-show="!vm.ConfigMode" id="advanced-mode">

            </div>
        </form>

    </div>
</section>

<style>
.navbar {
  margin-bottom: 0;
}

.open-stack-login{
    margin-top: 1em;
}

.jumbotron {
  padding-top: 6rem;
  padding-bottom: 6rem;
  margin-bottom: 0;
  background-color: #fff;
}

.jumbotron p:last-child {
  margin-bottom: 0;
}

.jumbotron-heading {
  font-weight: 300;
}

.jumbotron .container {
  max-width: 80rem;
}

footer {
  padding-top: 3rem;
  padding-bottom: 3rem;
}

footer p {
  margin-bottom: .25rem;
}
</style>
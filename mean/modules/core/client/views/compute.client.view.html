<section ng-controller="ComputeController as vm" class="jumbotron">
    <div class="container">
        <h1 class="jumbotron-heading">OpenStack Instances</h1>
        <table style="margin-top: 1em;" class="table table-bordered">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Created</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="server in vm.ServerList">
                    <th scope="row">{{server.name}}</th>
                    <td>{{server.created | date: 'short' : 'EST'}}</td>
                    <td>{{server.status}}</td>
                </tr>
            </tbody>
        </table>
        <br />
        <form>
            <h4 style="font-weight: 200;">Node Group Template Configuration</h4>
            <hr />
            <div class="row">
                <div class="col-sm-6">
                    <div class="form-group">
                        <label for="masterName">Master Node Group Template Name</label>
                        <input ng-model="vm.MasterTemplate.Name" required type="text" class="form-control" id="masterName" placeholder="master" aria-describedby="masterName">
                    </div>
                    <div class="form-group">
                        <label for="flavorSelect">Select Flavor</label>
                        <select required ng-model="vm.MasterTemplate.Flavor" ng-options="flavor.id as flavor.name for flavor in vm.Flavors" class="form-control" id="flavorSelect"></select>
                    </div>
                    <fieldset>
                        <legend>Processes</legend>
                        <div class="checkbox">
                            <label><input type="checkbox" ng-init="vm.MasterTemplate.Processes['namenode'] = true" ng-model="vm.MasterTemplate.Processes['namenode']" value="">namenode</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" ng-model="vm.MasterTemplate.Processes['datanode']" value="">datanode</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" ng-init="vm.MasterTemplate.Processes['oozle'] = true" ng-model="vm.MasterTemplate.Processes['oozle']" value="">oozle</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" ng-init="vm.MasterTemplate.Processes['resourcemanager'] = true" ng-model="vm.MasterTemplate.Processes['resourcemanager']" value="">resourcemanager</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" ng-model="vm.MasterTemplate.Processes['nodemanager']" value="">nodemanager</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" ng-init="vm.MasterTemplate.Processes['historymanager'] = true" ng-model="vm.MasterTemplate.Processes['historyserver']" value="">historyserver</label>
                        </div>
                    </fieldset>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        <label for="workerName">Worker Node Group Template Name</label>
                        <input ng-model="vm.NodeTemplate.Name" required type="text" class="form-control" id="workerName" placeholder="worker" aria-describedby="workerName">
                    </div>
                    <div class="form-group">
                        <label for="flavorSelect">Select Flavor</label>
                        <select required ng-model="vm.NodeTemplate.Flavor" ng-options="flavor.id as flavor.name for flavor in vm.Flavors" class="form-control" id="flavorSelect"></select>
                    </div>
                    <fieldset>
                        <legend>Processes</legend>
                        <div class="checkbox">
                            <label><input type="checkbox" ng-model="vm.NodeTemplate.Processes['namenode']" value="">namenode</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" ng-init="vm.NodeTemplate.Processes['datanode'] = true" ng-model="vm.NodeTemplate.Processes['datanode']" value="">datanode</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" ng-model="vm.NodeTemplate.Processes['oozle']" value="">oozle</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" ng-model="vm.NodeTemplate.Processes['resourcemanager']" value="">resourcemanager</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" ng-init="vm.NodeTemplate.Processes['nodemanager'] = true" ng-model="vm.NodeTemplate.Processes['nodemanager']" value="">nodemanager</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" ng-model="vm.NodeTemplate.Processes['historyserver']" value="">historyserver</label>
                        </div>
                    </fieldset>
                </div>
            </div>
        </form>

        <form>
            <h4 style="font-weight: 200; margin-top: 1em;">Cluster Template Configuration</h4>
            <div class="row">
                <div class="col-sm-12">
                    <hr />
                    <div class="form-group">
                        <label for="workerName">Cluster Template Name</label>
                        <input ng-model="vm.ClusterTemplate.Name" required type="text" class="form-control" id="workerName" placeholder="cluster" aria-describedby="workerName">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <label>Group Name</label>
                    <input ng-model="vm.Cluster.MasterGroupName" required class="form-control" />
                </div>
                <div class="col-sm-4">
                    <label>Template</label>
                    <input required readonly ng-model="vm.MasterTemplate.Name" class="form-control" />
                </div>
                <div class="col-sm-4">
                    <label>Count</label>
                    <input ng-model="vm.Cluster.MasterCount" ng-init="vm.Cluster.MasterCount = 1" required type="number" class="form-control" />
                </div>
            </div>
            <div style="margin-top: 1em;" class="row">
                <div class="col-sm-4">
                    <input ng-model="vm.Cluster.WorkerGroupName" required class="form-control" />
                </div>
                <div class="col-sm-4">
                    <input required readonly ng-model="vm.NodeTemplate.Name" class="form-control" />
                </div>
                <div class="col-sm-4">
                    <input ng-model="vm.Cluster.WorkerCount" ng-init="vm.Cluster.WorkerCount = 1" required type="number" class="form-control" />
                </div>
            </div>
        </form>

        <form>
            <h4 style="font-weight: 200; margin-top: 1em;">Launch Cluster</h4>
            <div class="row">
                <div class="col-sm-12">
                    <hr />
                    <div class="form-group">
                        <label for="workerName">Cluster Name</label>
                        <input ng-model="vm.Cluster.Name" required type="text" class="form-control" id="workerName" placeholder="bigcluster" aria-describedby="workerName">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <label>Base Image</label>
                    <select class="form-control" ng-model="vm.Cluster.BaseImage" ng-options="image.id as image.name for image in vm.Images"></select>
                </div>
                <div class="col-sm-6">
                    <label>Keypair</label>
                    <select ng-model="vm.Cluster.Keypair" required type="text" class="form-control" />
                </div>
            </div>
            <div style="margin-top: 1em;" class="row">
                <div class="col-sm-12">
                    <div style="float: right;">
                        <button class="btn btn-primary">Launch</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</section>

<style>
.navbar {
  margin-bottom: 0;
}

.open-stack-login{
    margin-top: 1em;
}

.jumbotron {
  padding-top: 6rem;
  padding-bottom: 6rem;
  margin-bottom: 0;
  background-color: #fff;
}

.jumbotron p:last-child {
  margin-bottom: 0;
}

.jumbotron-heading {
  font-weight: 300;
}

.jumbotron .container {
  max-width: 80rem;
}

footer {
  padding-top: 3rem;
  padding-bottom: 3rem;
}

footer p {
  margin-bottom: .25rem;
}
</style>